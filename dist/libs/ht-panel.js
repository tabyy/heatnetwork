!function(P,E,m){"use strict";var H="ht",V=P[H],U=V.Default,j=U.isTouchable,G=V.Color,x="px",W="0",N="innerHTML",O="className",v="position",a="absolute",K="width",T="height",i="left",F="top",B="right",e="bottom",n="max-width",M="max-height",_=null,D="none",$="",Z=P.parseInt,l=P.setTimeout,C=U.getInternal(),A=U.animate,I=G.titleIconBackground,t=function(){return document},k=function(J){return t().createElement(J)},r=function(){return k("div")},w=function(){return k("canvas")},L=function(W,G,g){W.style.setProperty(G,g,_)},c=function(b,O){return b.style.getPropertyValue(O)},b=function(m,s){m.appendChild(s)},Y=function(H,N){H.removeChild(N)},s=U.eventListenerOptionsFalse,g=(U.eventListenerOptionsTrue,function(n,N,W,R){n.addEventListener(N,W,R?s:s)}),p=function(f){var Z=f.scrollWidth,L=f.scrollHeight;return f===t().body&&(Z=Math.max(Z,t().documentElement.scrollWidth),L=Math.max(L,t().documentElement.scrollHeight)),{width:Z,height:L}},R=function(j){var s=j.touches[0];return s?s:j.changedTouches[0]};C.addMethod(U,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:I,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:I}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:I},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:I}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:I},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:I}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:I},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:I},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:I},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:I}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:I},{type:"rect",rect:[10,118,268,56],background:I},{type:"rect",rect:[10,213,268,56],background:I}]},panelTitleLabelColor:U.labelSelectColor,panelTitleLabelFont:U.labelFont,panelContentLabelFont:U.labelFont,panelTitleBackground:G.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:m},!0);var h=V.widget.Panel=function(I){var o=this,w=o._view=C.createView(null,o);o.$1i=0,o.$18i=new V.Notifier,o.$2i="leftTop",L(w,F,W),L(w,i,W),L(w,v,a),L(w,"overflow","hidden"),o._interactor=new q(o),o.setConfig(I),o.addEventListener(function(K){var R=o.getPanelConfig(K.id),q=R.content;("beginRestore"===K.kind||"betweenResize"===K.kind||"endToggle"===K.kind)&&(q&&q.invalidate&&q.invalidate(),R.items&&R.items.forEach(function(E){E&&E.content&&E.content.invalidate&&E.content.invalidate()}))})};U.def(h,E,{ms_v:1,_dragContainment:"parent",setConfig:function(y){function P($){$.expanded=!$.expanded,d.togglePanel($.id,!0,!0)}if(y){for(var d=this,i=d._view.parentNode;this._view.children.length;)this._view.removeChild(this._view.children[0]);d._config=y,d.$35i=[],y.expanded==_&&(y.expanded=y.expand!=_?y.expand:!0);var l=d._view,R=d.$24i(y,l,!0),M=R[2],o=y.width;d.$35i.push(R[1]),y.items&&y.items.forEach(function(B){B.expanded==_&&(B.expanded=B.expand!=_?B.expand:!0);var g=d.$24i(B,M.children[0]);d.$35i.push(g[1])});var c=r();L(c,K,10+x),L(c,T,10+x),L(c,v,a),L(c,e,W),L(c,B,W),c[O]="resize-area",b(l,c),d.$10i(),y.flowLayout&&L(l,v,"relative"),L(l,"opacity",W),b(t().body,l),o==_&&(o=l.offsetWidth),L(l,K,o+x),L(l,n,o+x);var J=y.content;J&&J.isSelfViewEvent&&(J.setX(0),J.setY(0),J.setWidth(o-2*(y.borderWidth||0)),J.setHeight(y.contentHeight)),y.items&&y.items.forEach(function(C){P(C)}),y.buttons&&y.buttons.indexOf("toggle")<0||P(y),y.minimized==_&&y.minimize!=_&&(y.minimized=y.minimize),y.minimized&&y.minimizable!==!1&&d.minimize(!0),Y(t().body,l),L(l,"opacity",$),i&&b(i,l),d.iv()}},getPanelConfig:function(z){var T=this,D=T._config,m=D.items;if(D.id===z)return D;if(m)for(var R=0;R<m.length;R++){var W=m[R];if(W.id===z)return W}},getPanelView:function(d){for(var k=this,G=k.$35i,S=0;S<G.length;S++){var n=G[S],z=n.parentNode;if(z.$15i===d)return z}},setDragContainment:function(R){this._dragContainment=R},getDragContainment:function(){return this._dragContainment},$20i:function(){var E=this._config,O=E.restoreIconSize||24;return O},$5i:function(w){var o=w.titleIconSize||16;return j&&(o*=1.2),o},$4i:function(M){var K=M.titleHeight||U.widgetTitleHeight;return K},setTitle:function(K,Y){if(Y==_&&(Y=this._config.id),Y!=_){var P=this.getPanelConfig(Y),G=this.getPanelView(Y);P.title=K,G.querySelector(".panel-title span").innerHTML=K}},setInnerPanel:function(q){var F,O,n=this,Q=q.id,m=n.$35i,G=!1;if(q.expanded==_&&(q.expanded=!0),Q!=_){var P=n.getPanelConfig(Q);if(P){G=!0;var N,W=n.getPanelView(Q),M=W.parentNode,V=W.children[0];if(W!==n._view){n.$11i();for(N in P)delete P.key;for(N in q)P[N]=q[N];F=n.$24i(q,M,!1,W),O=F[1],M.removeChild(W);for(var E=0;E<m.length;E++)if(m[E]===V){m.splice(E,1,O);break}n.$12i(),P.expanded=!P.expanded,n.togglePanel(P.id,!0,!0),n.iv()}}}if(!G){n.$11i(),F=n.$24i(q,n._view.children[1]),O=F[1],m.push(O),n._config.items||(n._config.items=[]);var z=n._config.items;if(z.push(q),n.$12i(),z.length>1){var l=z[z.length-2],a=n.getPanelView(l.id).children[0];L(a,"border-bottom",n.$55i(l))}q.expanded=!q.expanded,n.togglePanel(q.id,!0,!0),n.iv()}},removeInnerPanel:function(d){var X,g=this,A=-1,m=g._config.items;if(m)for(X=0;X<m.length;X++){var Y=m[X];if(Y.id===d){A=X;break}}if(g.$11i(),A>=0){var e=g.$35i,P=g.getPanelView(d),c=P.children[0];for(X=0;X<e.length;X++)if(e[X]===c){e.splice(X,1);break}m.splice(A,1),P.parentNode.removeChild(P)}if(g.$12i(),m.length>0){var V=m[m.length-1],D=g.getPanelView(V.id).children[0];L(D,"border-bottom",g.$55i(V))}},$6i:function(_){L(_,"cursor","pointer"),L(_,"display","inline-block"),L(_,"margin-right",(j?8:4)+x),L(_,"vertical-align",F)},$24i:function(z,N,F,j){var y=this,P=y._config.flowLayout,X=F?N:r(),M=y.$50i(z),o=y.$3i(z,F);X[O]="ht-widget-panel"+(F?" outer-panel":" inner-panel"),z.borderWidth==_&&(z.borderWidth=F?2:0);var Q=z.borderWidth;if(Q="0 "+Q+x+" "+Q+x+" "+Q+x+" ",L(X,"border-width",Q),L(X,"border-color",z.titleBackground||U.panelTitleBackground),L(X,"border-style","solid"),b(X,o),b(X,M),F||(j?N.insertBefore(X,j):b(N,X)),!P&&F&&z.minimizable!==!1){var A=w(),m=y.$20i(),J=z.restoreToolTip;C.setCanvas(A,m,m),A[O]="control-button button-minimize button-minimize-restore",y.$6i(A),L(A,"display","none"),b(N,A),A.title=J||""}var K=z.panelBackground||z.titleBackground||U.panelTitleBackground;if(L(X,"background-color",K),z.id==_){for(var c=y.$1i++;y.getPanelConfig(c);)c=y.$1i++;z.id=c}return X.$15i=z.id,z.width&&(X.style.width=z.width+x),[X,o,M]},$9i:function(W){var T=w();T[O]="control-button button-toggle button-toggle-expand",T.title=W.toggleToolTip||"";var S=this.$4i(W),j=this.$5i(W);return this.$6i(T),C.setCanvas(T,j,S),T},$8i:function(y){var $=w(),G="control-button button-independent-switch";$[O]=y.independent===!0?G+" button-independent-switch-on":G+" button-independent-switch-off",$.title=y.independentSwitchToolTip||"";var p=this.$4i(y),Y=this.$5i(y);return this.$6i($),C.setCanvas($,Y,p),$},$7i:function(e){var X=w();X[O]="control-button button-minimize button-minimize-minimize",X.title=e.minimizeToolTip||"";var m=this.$4i(e),D=this.$5i(e);return this.$6i(X),C.setCanvas(X,D,m),X},$55i:function(G){var W=this._config,Q=W.items,f=G.separatorWidth||U.panelSeparatorWidth,k=G.titleBackground||U.panelTitleBackground,p=G.expanded!==!1?k:G.separatorColor||U.panelSeparatorColor||U.brighter(k);return(W===G||Q&&Q.indexOf(G)===Q.length-1)&&(f=0),f+x+" solid "+p},$3i:function(R,s){var H=this,S=H._config.flowLayout,g=r(),n=r(),$=H.$4i(R),T=R.titleBackground,E=R.titleColor,X=R.titleIcon,t=R.buttons;if(g[O]="panel-title",L(g,v,"relative"),L(g,"background",T||U.panelTitleBackground),L(g,"color",E||U.panelTitleLabelColor),L(g,F,W),L(g,"box-sizing","border-box"),L(g,"-moz-box-sizing","border-box"),L(g,"padding","0 5px 0 0"),L(g,K,"100%"),L(g,"cursor","default"),L(g,"white-space","nowrap"),L(g,"font",U.panelTitleLabelFont),X){var q=w();q[O]="control-button panel-title-icon";var c=H.$4i(R),I=H.$5i(R);H.$6i(q),C.setCanvas(q,I,c),b(g,q)}var Y=k("span");L(Y,"display","inline-block"),L(Y,"margin-left","5px"),Y[N]="<span>"+R.title+"</span>",b(g,Y),L(g,"line-height",$+x),n[O]="panel-title-controls",L(n,v,a),L(n,i,W),L(n,B,5+x),L(n,F,W),L(n,e,W),L(n,"text-align",B);var y=function(){var v=H.$9i(R);b(n,v)},M=function(){if(!S&&s&&R.minimizable!==!1){var t=H.$7i(R);b(n,t)}},z=function(){if(!s){var C=H.$8i(R);b(n,C)}},P=function(l){var U=w();U[O]="control-button custombutton-"+l.name,U.title=l.toolTip||"",U._action=l.action;var Z=H.$4i(R),g=H.$5i(R);H.$6i(U),C.setCanvas(U,g,Z),b(n,U)};if(t)for(var G=0;G<t.length;G++){var d=t[G];"string"==typeof d?"minimize"===d?M():"independentSwitch"===d?z():"toggle"===d&&y():"object"==typeof d&&P(d)}else M(),y();return b(g,n),g},$50i:function(F){var j=r(),q=F.contentHeight,Y=r();L(Y,v,"relative"),j[O]="panel-body",L(j,"overflow","hidden");var P=F.contentBackground;if(P===m&&(P="white"),L(j,"background",P),L(j,"font",U.panelContentLabelFont),b(j,Y),F.content){var R,n=F.content;n.getView?(b(Y,n.getView()),R=Y.children[0]):n instanceof Element?(b(Y,n),R=Y.children[0]):Y[N]=n,n.isSelfViewEvent||R&&(L(R,K,"100%"),L(R,T,"100%")),q&&L(Y,T,q+x)}return j},$10i:function(){var r=this,T=r._config,N=r._view,f=N.querySelector(".resize-area").style;f.display=T.flowLayout||T.minimized===!0||T.expanded===!1?D:"block"},$11i:function(){var m=this._view,N=m.children[1];this.$13i>=0?this.$13i++:this.$13i=1,L(N,M,$),L(m,n,$)},$12i:function(){var k=--this.$13i;if(0===k){var p=this._view,F=p.children[1];L(F,M,F.scrollHeight+x),L(p,n,p.offsetWidth+x)}},$14i:function(){var I=this._view,k=I.children[0],S=k.children[1].children,A=this._config,a=0;I.$26i=I.offsetWidth,a+=k.children[0].offsetWidth,A.titleIcon&&(a+=k.children[1].offsetWidth,S=k.children[2].children);for(var s=0;s<S.length;s++){var u=S[s];a+=u.offsetWidth+5}I.$51i=a+15},togglePanel:function(G,w,d){function S(o){var L=o.target,q=L.parentNode,$=m.getPanelConfig(q.$15i);delete q.$19i,L!==H&&m.$12i(),m.$18i.fire({kind:"endToggle",target:m,id:$.id})}for(var m=this,D=m._view,H=D.children[1],c=_,C=m.$35i,r=C.length,g=m._config.exclusive,t=m.$2i,Z=[],h=m._config.narrowWhenCollapse,Y=0;r>Y;Y++){var q=C[Y],e=q.parentNode,b=e.$15i,J=m.getPanelConfig(b);b===G&&(c=e),!w&&g&&J.expanded&&e!==D&&b!==G&&J.independent!==!0&&Z.push(e)}if(c&&!c.$19i){c.$19i=!0;var a=c.children[1],v=c.querySelector(".button-toggle"),X=m.getPanelConfig(c.$15i);if(!v)return;c===D||X.expanded||X.independent===!0||Z.forEach(function(Z){m.togglePanel(Z.$15i,!0)}),c!==D&&m.$11i();var Q=200;if(d&&(Q=0),m.$18i.fire({kind:"beginToggle",target:m,id:c.$15i}),X.expanded){var i=function(){v[O]="control-button button-toggle",v[O]+=t.indexOf("Bottom")>=0?" button-toggle-expand":" button-toggle-collapse",L(a,K,a.clientWidth+x),X.expanded=!1,L(c.children[0],"border-bottom",m.$55i(X)),A(a).duration(Q).set("opacity",W).set(M,W).end(S),h&&c===D&&A(c).duration(Q).set(n,c.$51i+x).end(),c[O]+=" panel-collapse",A(c).duration(Q).set("padding-bottom",W).end(),m.$28i(X,!0),m.$10i()};h&&c===D&&m.$14i(),i()}else v[O]="control-button button-toggle",v[O]+=t.indexOf("Bottom")>=0?" button-toggle-collapse":" button-toggle-expand",L(a,K,$),X.expanded=!0,L(c.children[0],"border-bottom",m.$55i(X)),A(a).duration(Q).set("opacity","1").set(M,a.scrollHeight+x).end(S),h&&c===D&&A(c).duration(Q).set(n,(c.$26i||c.offsetWidth)+x).end(),c[O]=c[O].replace(" panel-collapse",$),A(c).duration(Q).end(),m.$28i(X,!0),m.$10i()}},$16i:function(){var m=this._view,W=m.$22i,R=m.$23i,r=this.$2i;return W==_&&(r.indexOf(i)>=0?W=m.$22i=0:r.indexOf(B)>=0&&(W=m.$22i=100)),R==_&&(r.indexOf("Top")>=0?R=m.$23i=0:r.indexOf("Bottom")>=0&&(R=m.$23i=100)),[W,R]},$25i:function(){var m=this,a=m._view,g=a.$21i,T=m.$20i(),A=m.$16i(),r=A[0],X=A[1],_=m.$2i;a.children[0].style.display=D,a.children[1].style.display=D,a.children[2].style.display=$,L(a,"padding",W),L(a,n,T+x),"leftTop"===_?(L(a,i,Z(c(a,i))+(g.width-T)*r/100+x),L(a,F,Z(c(a,F))+(g.height-T)*X/100+x)):"leftBottom"===_?(L(a,i,Z(c(a,i))+(g.width-T)*r/100+x),L(a,e,Z(c(a,e))+(g.height-T)*(1-X/100)+x)):"rightTop"===_?(L(a,B,Z(c(a,B))+(g.width-T)*(1-r/100)+x),L(a,F,Z(c(a,F))+(g.height-T)*X/100+x)):"rightBottom"===_&&(L(a,B,Z(c(a,B))+(g.width-T)*(1-r/100)+x),L(a,e,Z(c(a,e))+(g.height-T)*(1-X/100)+x)),a[O]+=" panel-minimized",m.$18i.fire({kind:"endMinimize",target:m,id:a.$15i})},$17i:function(){var x=this,s=x._config,z=x._view;L(z,"-webkit-transform",$),L(z,"-ms-transform",$),L(z,"transform",$),s.minimized?x.$25i():(x.$18i.fire({kind:"endRestore",target:x,id:s.id}),z[O]=z[O].replace(" panel-minimized",$)),delete z.$19i},minimize:function(l){var _=this,H=_._view;if(!H.$19i&&H.children[0].style.display!==D){var W=_._config,N=H.getBoundingClientRect(),m=_.$20i(),G=N.width,S=N.height,x=m/G,B=m/S,O=_.$16i(),I=O[0],M=O[1];H.$52i=x,H.$53i=B,H.$21i=N,_.$18i.fire({kind:"beginMinimize",target:_,id:H.$15i});var X=200;l&&(X=0),W.minimized=!0,H.$19i=!0,W.expanded&&(H.$26i=H.offsetWidth);var i=I+"% "+M+"%";L(H,"-webkit-transform-origin",i),L(H,"-ms-transform-origin",i),L(H,"transform-origin",i),A(H).duration(X).scale(x,B).end(function(){_.$17i()}),_.$10i()}},restore:function(){var Y,s,z,X,V,G,N,W,u,K,P,J,d=this,a=d._view,m=a.parentNode,f=d._config;if(!a.$19i&&f.minimized){var E=a.$21i,$=a.$52i,k=a.$53i,Q=(f.borderWidth+x,d.$20i()),r=p(m),C=d.$2i;"leftTop"===C?(Y=Z(c(a,i)),z=Z(c(a,F)),V=Y,N=z,u=Y+E.width-r.width,K=z+E.height-r.height,u>0&&(u>=Y?Y=0:Y-=u),K>0&&(K>=z?z=0:z-=K),P=100*((V-Y)/(E.width-Q)),J=100*((N-z)/(E.height-Q)),L(a,i,Y+x),L(a,F,z+x)):"leftBottom"===C?(Y=Z(c(a,i)),X=Z(c(a,e)),V=Y,W=X,u=Y+E.width-r.width,K=X+E.height-r.height,u>0&&(u>=Y?Y=0:Y-=u),K>0&&(K>=X?X=0:X-=K),P=100*((V-Y)/(E.width-Q)),J=100*(1-(W-X)/(E.height-Q)),L(a,i,Y+x),L(a,e,X+x)):"rightTop"===C?(s=Z(c(a,B)),z=Z(c(a,F)),G=s,N=z,u=s+E.width-r.width,K=z+E.height-r.height,u>0&&(u>=s?s=0:s-=u),K>0&&(K>=z?z=0:z-=K),P=100*(1-(G-s)/(E.width-Q)),J=100*((N-z)/(E.height-Q)),L(a,B,s+x),L(a,F,z+x)):"rightBottom"===C&&(s=Z(c(a,B)),X=Z(c(a,e)),G=s,W=X,u=s+E.width-r.width,K=X+E.height-r.height,u>0&&(u>=s?s=0:s-=u),K>0&&(K>=X?X=0:X-=K),P=100*(1-(G-s)/(E.width-Q)),J=100*(1-(W-X)/(E.height-Q)),L(a,B,s+x),L(a,e,X+x)),a.children[0].style.display="block",a.children[1].style.display="block",a.children[2].style.display=D,L(a,"-webkit-transform","scale("+$+", "+k+")"),L(a,"-ms-transform","scale("+$+", "+k+")"),L(a,"transform","scale("+$+", "+k+")"),a.$22i=P,a.$23i=J,L(a,"-webkit-transform-origin",P+"% "+J+"%"),L(a,"-ms-transform-origin",P+"% "+J+"%"),L(a,"transform-origin",P+"% "+J+"%"),f.narrowWhenCollapse&&!f.expanded?L(a,n,a.$51i+x):L(a,n,a.$26i+x),d.$18i.fire({kind:"beginRestore",target:d,id:a.$15i}),a.$19i=!0,f.minimized=!1,l(function(){A(a).scale(1,1).end(function(){d.$17i()})},30),d.$10i()}},addEventListener:function(_,h,u){this.$18i.add(_,h,u)},removeEventListener:function(o,O){this.$18i.remove(o,O)},setPosition:function(l,O){var u=this._view,X=this.$2i;"leftTop"===X?(L(u,i,l+x),L(u,F,O+x),L(u,B,$),L(u,e,$)):"leftBottom"===X?(L(u,i,l+x),L(u,e,O+x),L(u,B,$),L(u,F,$)):"rightTop"===X?(L(u,B,l+x),L(u,F,O+x),L(u,i,$),L(u,e,$)):"rightBottom"===X&&(L(u,B,l+x),L(u,e,O+x),L(u,i,$),L(u,F,$)),delete u.$22i,delete u.$23i},getPosition:function(){var d=this._view,V=this.$2i;return"leftTop"===V?{x:Z(c(d,i)),y:Z(c(d,F))}:"leftBottom"===V?{x:Z(c(d,i)),y:Z(c(d,e))}:"rightTop"===V?{x:Z(c(d,B)),y:Z(c(d,F))}:"rightBottom"===V?{x:Z(c(d,B)),y:Z(c(d,e))}:void 0},setPositionRelativeTo:function(N){var $=this,F=$._view.querySelectorAll(".button-toggle"),p="control-button button-toggle",U=$.getPosition();$.$2i=N,$.setPosition(U.x,U.y);for(var J=0;J<F.length;J++){var o=F[J],Z=$.getPanelConfig(o.parentNode.parentNode.parentNode.$15i);o[O]=Z.expanded?N.indexOf("Bottom")>=0?p+" button-toggle-collapse":p+" button-toggle-expand":N.indexOf("Bottom")>=0?p+" button-toggle-expand":p+" button-toggle-collapse"}$.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function(s){var X=this;X._68I||(X._68I=1,U.callLater(X.validate,X,_,s),X.onInvalidated&&X.onInvalidated(),X.fireViewEvent("invalidate"));var F=this._config,u=F.content;u&&u.invalidate&&u.invalidate(),F.items&&F.items.forEach(function(O){O&&O.content&&O.content.invalidate&&O.content.invalidate()})},getIconStretch:function(){var g=this._config.iconStretch||"fill";return g},$27i:function(O,R,H,y,W){var k=C.initContext(O);C.translateAndScale(k,0,0,1),k.clearRect(0,0,H,H);var r=(H-y)/2;U.drawStretchImage(k,U.getImage(R),this.getIconStretch(W),0,r,y,y),k.restore()},$28i:function(s){var e,Q,g,k=this,K=s.id,j=k.getPanelView(K),B=j.querySelector(".button-toggle"),N=k.$2i.indexOf("Bottom")>=0;if(Q=N?U.panelCollapseIcon:U.panelExpandIcon,g=N?U.panelExpandIcon:U.panelCollapseIcon,B){e=s.expanded?U.getImage(g):U.getImage(Q);var v=k.$4i(s),P=k.$5i(s);k.$27i(B,e,v,P,"toggle")}},$29i:function(m){var e,F=this,w=m.id,Z=F.getPanelView(w),P=Z.querySelector(".button-independent-switch"),u=U.panelUnLockIcon,z=U.panelLockIcon;if(P){e=m.independent!==!0?U.getImage(z):U.getImage(u);var i=F.$4i(m),X=F.$5i(m);F.$27i(P,e,i,X,"switch")}},$30i:function(D){var W=this,d=D.id,M=W.getPanelView(d),n=M.querySelector(".button-minimize-minimize"),t=U.panelMinimizeIcon;if(n){var A=W.$4i(D),F=W.$5i(D);W.$27i(n,U.getImage(t),A,F,"miminize")}},$31i:function(j){var G=this,h=j.id,E=G.getPanelView(h),b=E.querySelector(".button-minimize-restore"),X=j.titleIcon||U.panelRestoreIcon;if(b){var w=G.$20i();G.$27i(b,U.getImage(X),w,w,"restore")}},$32i:function(f){var Z=this,d=f.id,o=Z.getPanelView(d);if(f.buttons){var C=f.buttons;C.forEach(function(F){var s=F.name,j=F.icon;if(s&&j){var R=o.querySelector(".custombutton-"+s);if(R){var k=Z.$4i(f),N=Z.$5i(f)-1;Z.$27i(R,U.getImage(j),k,N,"custom")}}})}},$33i:function(H){var N=this,Z=H.id,g=N.getPanelView(Z),y=g.querySelector(".panel-title-icon"),p=H.titleIcon;if(y&&p){var M=N.$4i(H),m=N.$5i(H);N.$27i(y,U.getImage(p),M,m,"title")}},validateImpl:function(){var e=this,N=e._config;e.$28i(N),e.$30i(N),e.$31i(N),e.$32i(N),e.$33i(N),N.items&&N.items.forEach(function(j){e.$28i(j),e.$29i(j),e.$32i(j)})}});var q=function(V){var C=this,t=V.getView();C.$34i=V,C.addListeners(),g(t,"dblclick",C.$42i.bind(C))};U.def(q,E,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function(O){for(var V=this.$34i,w=O.target,f=V.$35i,F=f.length,l=0;F>l;l++){var c=f[l];c.contains(w)&&(O.preventDefault(),V.togglePanel(c.parentNode.$15i))}},handle_touchstart:function(W){var Q=this,s=Q.$34i,w=s._config,B=w.flowLayout,O=W;if(U.preventDefault(W),U.isLeftButton(W)){var $=W.target,_=s.getView().children[0],k=s.getView().querySelector(".button-minimize-restore");j&&(O=R(W));var I=Q.$40i={x:O.pageX,y:O.pageY};Q.$41i={x:I.x,y:I.y},(!B&&_.contains($)||k&&k.contains($))&&(Q.$38i=!0,U.startDragging(Q,W)),!B&&Q.handle_mousemove(W)&&(Q.$37i=!0,U.startDragging(Q,W),s.$11i())}},handle_mousedown:function(e){this.handle_touchstart(e)},handle_touchend:function(S){var G=this,B=G.$34i,e=S.target,g=B.$35i,y=g.length,p=0,$=B.getView(),C=$.querySelector(".button-minimize"),u=$.querySelector(".button-minimize-restore");if(!G.$39i&&!G.$36i){if(C&&C.contains(e)||u&&u.contains(e))S.preventDefault(),B._config.minimized?B.restore():B.minimize();else for(;y>p;p++){var i=g[p],d=i.parentNode,R=d.$15i,q=B.getPanelConfig(R),J=i.querySelector(".button-toggle"),j=i.querySelector(".button-independent-switch");if(J===e)S.preventDefault(),B.togglePanel(R);else if(j===e){S.preventDefault();var F="button-independent-switch-off",m="button-independent-switch-on";q.independent=q.independent==_?!0:!q.independent,j[O]=q.independent?j[O].replace(F,m):j[O].replace(m,F),B.$29i(q)}else e[O]&&e[O].indexOf("control-button custombutton-")>=0&&i.contains(e)&&e._action.call(B,q,B.getPanelView(R),S)}delete G.$40i,delete G.$41i}},handle_mouseup:function(E){this.handle_touchend(E)},handleWindowTouchEnd:function(){var N=this,t=N.$34i;N.$37i&&N.$36i?(t.$18i.fire({kind:"endResize",target:t,id:t.getView().$15i}),t.$12i()):N.$38i&&N.$39i&&t.$18i.fire({kind:"endMove",target:t,id:t.getView().$15i}),this.clear()},handleWindowMouseUp:function(H){this.handleWindowTouchEnd(H)},handle_mousemove:function(s){var n=this,Z=n.getView(),P=Z.querySelector(".resize-area"),w=P.getBoundingClientRect(),M={x:w.left,y:w.top,width:w.width,height:w.height};s=j?R(s):s;var c=s.clientX,K=s.clientY,V=n.$34i._config;return V.expanded&&V.minimized!==!0&&U.containsPoint(M,{x:c,y:K})?(Z.style.cursor="nwse-resize",!0):(Z.style.cursor=$,void 0)},handleWindowTouchMove:function(l){l.preventDefault();var y=l;j&&(y=R(l));var k=this,N=k.$40i,v=k.$41i;if(!(v.x==N.x&&v.y==N.y&&U.getDistance(v,{x:y.pageX,y:y.pageY})<=1)){var d=k.$34i,s=k.getView(),O=s.parentNode,b=d._config,V=b.resizeMode||"wh",W=y.pageX-N.x,G=y.pageY-N.y,M=d.$2i;if(k.$37i){var z=s.children[1].children[0],A=s.offsetWidth,g=z.offsetHeight,r=A+W,X=g+G;r=Math.max(r,100),X=Math.max(X,100),"w"===V?(L(s,K,r+x),b.width=r):"h"===V?(L(z,T,X+x),b.contentHeight=X):"wh"===V&&(L(s,K,r+x),L(z,T,X+x),b.width=r,b.contentHeight=X),M.indexOf("right")>=0&&L(s,B,Z(c(s,B))-(r-A)+x),M.indexOf("Bottom")>=0&&L(s,e,Z(c(s,e))-(X-g)+x),N.x=y.pageX,N.y=y.pageY;var C=b.content;C&&C.isSelfViewEvent&&(C.setX(0),C.setY(0),C.setWidth(b.width-2*(b.borderWidth||0)),C.setHeight(b.contentHeight)),k.$36i?d.$18i.fire({kind:"betweenResize",target:d,id:d.getView().$15i}):(k.$36i=!0,d.$18i.fire({kind:"beginResize",target:d,id:d.getView().$15i}))}else if(k.$38i){var Y,t,I,q,u,f,S,$,H,D,E=s.getBoundingClientRect(),P=E.width,Q=E.height,n=p(O),w=n.width,o=n.height,_=d._dragContainment;"leftTop"===M?(Y=Z(c(s,i))||0,I=Z(c(s,F))||0,u=Y+W,S=I+G,"parent"===_&&(u+P>w&&(u=w-P),S+Q>o&&(S=o-Q),0>u&&(u=0),0>S&&(S=0)),H=u-Y,D=S-I,d.setPosition(u,S),N.x+=H,N.y+=D):"rightBottom"===M?(t=Z(c(s,B))||0,q=Z(c(s,e))||0,f=t-W,$=q-G,"parent"===_&&(0>f&&(f=0),0>$&&($=0),f+P>w&&(f=w-P),$+Q>o&&($=o-Q)),H=f-t,D=$-q,d.setPosition(f,$),N.x-=H,N.y-=D):"rightTop"===M?(t=Z(c(s,B))||0,I=Z(c(s,F))||0,f=t-W,S=I+G,"parent"===_&&(0>f&&(f=0),0>S&&(S=0),f+P>w&&(f=w-P),S+Q>o&&(S=o-Q)),H=f-t,D=S-I,d.setPosition(f,S),N.x-=H,N.y+=D):"leftBottom"===M&&(Y=Z(c(s,i))||0,q=Z(c(s,e))||0,u=Y+W,$=q-G,"parent"===_&&(0>u&&(u=0),0>$&&($=0),u+P>w&&(u=w-P),$+Q>o&&($=o-Q)),H=u-Y,D=$-q,d.setPosition(u,$),N.x+=H,N.y-=D),k.$39i?d.$18i.fire({kind:"betweenMove",target:d,id:d.getView().$15i}):(k.$39i=!0,d.$18i.fire({kind:"beginMove",target:d,id:d.getView().$15i}))}}},handleWindowMouseMove:function(S){this.handleWindowTouchMove(S)}});var d=V.widget.PanelGroup=function(v){var o=this,H=o._view=C.createView(null,o);H.style.border="1px dashed black",H.style.position="absolute",H.style.background="rgba(120, 120, 120, 0.4)",o.$48i=new V.List,o._tolerance=100,o._config=v||{hGap:0,vGap:0},o.bindHandlePanelMove=o.handlePanelMove.bind(o),o.bindHandlePanelEvent=o.handlePanelEvent.bind(o),o.invalidate()};U.def(d,E,{invalidate:function(){var y=this;y._68I||(y._68I=1,l(function(){y.validate()},50))},validate:function(){if(this._68I){delete this._68I;var U=this.$48i.get(0);if(U){var M=U.getView().parentNode;M&&(this.layoutPanels(M,"leftTop"),this.layoutPanels(M,"rightTop"),this.layoutPanels(M,"leftBottom"),this.layoutPanels(M,"rightBottom"))}}},setLeftTopPanels:function(){var B=this,l=B.$43i,C=B.$48i;l==_&&(l=B.$43i=new V.List);for(var I=0;I<arguments.length;I++){var N=arguments[I];if("string"==typeof N)l.$49i=N;else{if(N._config.flowLayout)continue;N.setPositionRelativeTo("leftTop"),l.contains(N)||l.add(N),C.contains(N)||B.add(N)}}},setRightTopPanels:function(){var u=this,b=u.$44i,P=u.$48i;b==_&&(b=u.$44i=new V.List);for(var o=0;o<arguments.length;o++){var i=arguments[o];if("string"==typeof i)b.$49i=i;else{if(i._config.flowLayout)continue;i.setPositionRelativeTo("rightTop"),b.contains(i)||b.add(i),P.contains(i)||u.add(i)}}},setLeftBottomPanels:function(){var Z=this,M=Z.$45i,G=Z.$48i;M==_&&(M=Z.$45i=new V.List);for(var u=0;u<arguments.length;u++){var U=arguments[u];if("string"==typeof U)M.$49i=U;else{if(U._config.flowLayout)continue;U.setPositionRelativeTo("leftBottom"),M.contains(U)||M.add(U),G.contains(U)||Z.add(U)}}},setRightBottomPanels:function(){var g=this,s=g.$46i,U=g.$48i;s==_&&(s=g.$46i=new V.List);for(var j=0;j<arguments.length;j++){var f=arguments[j];if("string"==typeof f)s.$49i=f;else{if(f._config.flowLayout)continue;f.setPositionRelativeTo("rightBottom"),s.contains(f)||s.add(f),U.contains(f)||g.add(f)}}},add:function(G){if(!G._config.flowLayout){var N=this,B=N.$48i;B.contains(G)||(G.addEventListener(N.bindHandlePanelMove),G.addEventListener(N.bindHandlePanelEvent),B.add(G))}},remove:function(Y){var R=this,b=R.$48i;b.contains(Y)&&(Y.removeEventListener(R.bindHandlePanelMove),Y.removeEventListener(R.bindHandlePanelEvent),b.remove(Y),R.$43i.contains(Y)&&R.$43i.remove(Y),R.$44i.contains(Y)&&R.$44i.remove(Y),R.$45i.contains(Y)&&R.$45i.remove(Y),R.$46i.contains(Y)&&R.$46i.remove(Y))},layoutPanels:function(k,y,i){var g=this,G=g._config,T=G.hGap||0,S=G.vGap||0;if(k){var f=g.$43i;if("leftBottom"===y?f=g.$45i:"rightTop"===y?f=g.$44i:"rightBottom"===y&&(f=g.$46i),!f)return;var O=f.$49i,N=T,H=S;if(k.contains(g._view)&&k.removeChild(g._view),f&&f.size()>0)for(var z=0;z<f.size();z++){var o=f.get(z),e=o.getView();k=k||e.parentNode,i!==z?o.setPosition(N,H):("leftTop"===y?(g._view.style.right="",g._view.style.bottom="",g._view.style.left=N+x,g._view.style.top=H+x):"leftBottom"===y?(g._view.style.right="",g._view.style.top="",g._view.style.left=N+x,g._view.style.bottom=H+x):"rightTop"===y?(g._view.style.left="",g._view.style.bottom="",g._view.style.right=N+x,g._view.style.top=H+x):"rightBottom"===y&&(g._view.style.left="",g._view.style.top="",g._view.style.right=N+x,g._view.style.bottom=H+x),g._view.style.width=e.offsetWidth+x,g._view.style.height=e.offsetHeight+x,k.insertBefore(g._view,e)),"h"===O?N+=e.offsetWidth+T:"v"===O&&(H+=e.offsetHeight+S)}}},handlePanelEvent:function(u){if("beginToggle"===u.kind||"endToggle"===u.kind||"beginRestore"===u.kind||"endMinimize"===u.kind||"endResize"===u.kind){var m=this,L=u.target,E=L.getView(),i=E.parentNode,T=m.$43i,D=m.$44i,B=m.$45i,K=m.$46i,f=m._config,Z=_,O=_,C=L.$47i;if(C==_&&(C=L.$47i=0),"beginToggle"===u.kind?C=L.$47i=C+1:"endToggle"===u.kind&&(C=L.$47i=C-1),T&&T.contains(L)?(Z="leftTop",O=T):B&&B.contains(L)?(Z="leftBottom",O=B):D&&D.contains(L)?(Z="rightTop",O=D):K&&K.contains(L)&&(Z="rightBottom",O=K),"beginToggle"===u.kind&&Z&&1===C){var S=r(),N=S.style,P=O.$49i,R="each";N.fontSize="0",N.position="absolute",N.width="100%","leftTop"===Z?(N.left=0,N.top=0):"leftBottom"===Z?(N.left=0,N.bottom=0,"v"===P&&(R="reverseEach")):"rightTop"===Z?(N.right=0,N.top=0,N.textAlign="right","h"===P&&(R="reverseEach")):"rightBottom"===Z&&(N.right=0,N.bottom=0,N.textAlign="right",R="reverseEach"),O[R](function(c){var Y=c.getView(),t=Y.style,U=r();t.position="static",U.style.textAlign="left",U.style.position="relative",U.style.display="inline-block","leftTop"===Z?(U.style.marginLeft=f.hGap+x,U.style.marginTop=f.vGap+x):"leftBottom"===Z?(U.style.marginLeft=f.hGap+x,U.style.marginBottom=f.vGap+x):"rightTop"===Z?(U.style.marginRight=f.hGap+x,U.style.marginTop=f.vGap+x):"rightBottom"===Z&&(U.style.marginRight=f.hGap+x,U.style.marginBottom=f.vGap+x),U.appendChild(Y),S.appendChild(U),"h"===P?U.style.verticalAlign="leftTop"===Z||"rightTop"===Z?"top":"bottom":S.appendChild(k("br"))}),m.$54i=S,i.appendChild(S)}else"endToggle"===u.kind&&Z&&0===C?l(function(){i=i.parentNode.parentNode,i.removeChild(m.$54i),delete m.$54i,O.each(function(e){var T=e.getView(),d=T.style;d.position="absolute",i.appendChild(T)}),m.layoutPanels(i,Z)},30):("beginRestore"===u.kind||"endMinimize"===u.kind||"endResize"===u.kind)&&Z&&m.layoutPanels(i,Z)}},handlePanelMove:function(l){if(!(l.kind.indexOf("Move")<0)){var O=this,i=O._config,K=i.hGap||0,u=i.vGap||0,f=l.target,y=f._view,j=y.getBoundingClientRect(),G=j.width,N=j.height,S=G/2,m=N/2,q=y.parentNode,h=O.$43i,Y=O.$44i,t=O.$45i,M=O.$46i,e=q.getBoundingClientRect(),F=O._tolerance;if("endMove"===l.kind){var x=O._corner;x&&(f.setPositionRelativeTo(x),O.layoutPanels(q,x)),delete O._corner}if("betweenMove"===l.kind){var X=e.left,T=e.top,E=e.width,k=e.height,C=j.left+G/2,v=j.top+N/2;h==_&&(h=O.$43i=new V.List),t==_&&(t=O.$45i=new V.List),Y==_&&(Y=O.$44i=new V.List),M==_&&(M=O.$46i=new V.List),delete O._corner,h.contains(f)?(h.remove(f),O.layoutPanels(q,"leftTop")):t.contains(f)?(t.remove(f),O.layoutPanels(q,"leftBottom")):Y.contains(f)?(Y.remove(f),O.layoutPanels(q,"rightTop")):M.contains(f)&&(M.remove(f),O.layoutPanels(q,"rightBottom"));var w=function(N,g){var R=X+K,d=T+u;if(0===g.size()){var y=R+S,G=d+m;"leftBottom"===N?G=T+k-u-m:"rightTop"===N?y=X+E-K-S:"rightBottom"===N&&(y=X+E-K-S,G=T+k-u-m);var W=C-y,$=v-G,L=Math.sqrt(W*W+$*$);if(F>L)return O._corner=N,g.add(f),O.layoutPanels(q,N,0),!0}else if(1===g.size()){var B=g.get(0),r=B.getView().getBoundingClientRect(),J=r.left+S,c=r.top+m,b=r.left+r.width+K+S,V=d+m,M=R+S,I=r.top+r.height+u+m;"leftBottom"===N?(c=r.top+r.height-m,V=T+k-u-m,I=r.top-u-m):"rightTop"===N?(J=r.left+r.width-S,b=r.left-K-S,M=X+E-K-S):"rightBottom"===N&&(J=r.left+r.width-S,c=r.top+r.height-m,b=r.left-K-S,V=T+k-u-m,M=X+E-K-S,I=r.top-u-m);var Q=C-J,e=v-c,H=C-b,w=v-V,p=C-M,s=v-I,P=Z(Math.sqrt(Q*Q+e*e)),U=Z(Math.sqrt(H*H+w*w)),n=Z(Math.sqrt(p*p+s*s)),l=[P,U,n];l.sort(function(C,E){return C-E});var i=l[0];if(F>i){if(O._corner=N,i===P)return g.add(f,0),O.layoutPanels(q,N,0),!0;if(i===U)return g.add(f),g.$49i="h",O.layoutPanels(q,N,1),!0;if(i===n)return g.add(f),g.$49i="v",O.layoutPanels(q,N,1),!0}}else if(g.size()>1){for(var t=_,A={},h=[],z=g.$49i,D=0;D<g.size();D++){var o=g.get(D),j=o.getView(),Y=j.getBoundingClientRect(),x=Y.left+S,a=Y.top+m;"leftBottom"===N?a=Y.top+Y.height-m:"rightTop"===N?x=Y.left+Y.width-S:"rightBottom"===N&&(x=Y.left+Y.width-S,a=Y.top+Y.height-m),D===g.size()-1&&(t=Y);var W=C-x,$=v-a,L=Z(Math.sqrt(W*W+$*$));A[L]=D,h.push(L)}"leftTop"===N&&"h"===z?(y=t.left+t.width+K+S,G=d+m):"leftTop"===N&&"v"===z?(y=R+S,G=t.top+t.height+u+m):"leftBottom"===N&&"h"===z?(y=t.left+t.width+K+S,G=T+k-u-m):"leftBottom"===N&&"v"===z?(y=R+S,G=t.top-u-m):"rightTop"===N&&"h"===z?(y=t.left-K-S,G=d+m):"rightTop"===N&&"v"===z?(y=X+E-K-S,G=t.top+t.height+u+m):"rightBottom"===N&&"h"===z?(y=t.left-K-S,G=T+k-u-m):"rightBottom"===N&&"v"===z&&(y=X+E-K-S,G=t.top-u-m),W=C-y,$=v-G,L=Z(Math.sqrt(W*W+$*$)),A[L]=D,h.push(L),h.sort(function(b,n){return b-n});var i=h[0];if(F>i)return O._corner=N,g.add(f,A[i]),O.layoutPanels(q,N,A[i]),!0}};w("leftTop",h)||w("leftBottom",t)||w("rightTop",Y)||w("rightBottom",M)}}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);