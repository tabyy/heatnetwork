!function(r,N){"use strict";var c="ht",z=r[c],F="px",q="left",h="top",I="bottom",P="right",a="innerHTML",T="className",J="",x="width",e="height",W="string",o="position",Q="absolute",D="0",U="opacity",f="background",m=z.Default,B=m.getInternal(),s=z.Color,n=m.animate,y=m.isTouchable,i=null,Z=(Math.sqrt,r.parseInt),Y=r.setTimeout,E=(Math.round,s.titleIconBackground),w=function(k){return typeof k===W||k instanceof String},X=function(){return document},u=function(q){return X().createElement(q)},t=function(){var w=u("div");return w.tabIndex=-1,w.style.outline="none",w},p=function(){return u("canvas")},M=function(V,g){k(V,"-webkit-transform",g),k(V,"-ms-transform",g),k(V,"transform",g)},k=function(W,F,n){W.style.setProperty(F,n,i)},G=function(w,U,C){m.def(z.widget[w],U,C)},H=function(i,G){i.appendChild(G)},d=function(){return X().documentElement},S=function(){return d().clientWidth},g=function(){return d().clientHeight},l=m.eventListenerOptionsFalse,L=(m.eventListenerOptionsTrue,function(y,w,r,$){y.addEventListener(w,r,$?l:l)}),V=function(n,A,w,V){n.removeEventListener(A,w,V?l:l)},A=function(B){var s=B.touches[0];return s?s:B.changedTouches[0]};B.addMethod(m,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:E},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:E}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:E},{type:"rect",rect:[10,10,80,20],background:E}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:E},{type:"rect",rect:[10,34,56,14],background:E},{type:"rect",rect:[34,10,56,14],background:E},{type:"rect",rect:[82,10,8,56],background:E},{type:"rect",rect:[66,62,24,8],background:E}]},dialogTitleLabelColor:m.labelSelectColor,dialogTitleLabelFont:(y?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:m.labelFont,dialogTitleBackground:s.titleBackground,dialogHeaderBackground:s.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var v=function(J){var I=this;I.$1d=J,I.addListeners()};m.def(v,N,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(D){var t=this,e=t.$1d,l=e.$6d,a=e._config,k=e.$7d,G=D,v=D.target;if(k.contains(v)||m.preventDefault(D),m.isLeftButton(D)){y&&(G=A(D));var r=t.$8d={x:G.pageX,y:G.pageY};t.$9d={x:r.x,y:r.y},!a.maximized&&a.draggable&&l.contains(v)&&(t.$4d=!0,m.startDragging(t,D)),t.handle_mousemove(D)&&(t.$2d=!0,m.startDragging(t,D)),k.contains(D.target)||e.$41d.focus()}},handle_mousedown:function(J){this.handle_touchstart(J)},handle_touchend:function(x){if(m.isLeftButton(x)&&!this.$5d&&!this.$3d){var A=this,r=A.$1d,g=x.target,V=r._config,I=r.$18d,F=r.$16d;for(V.closable&&I.contains(g)&&r.hide(),V.maximizable&&F.contains(g)&&(V.maximized?r.restore():r.maximize());g&&(g.className||"").indexOf("dialog-button")<0;)g=g.parentNode;g&&g.buttonItem&&r.action&&r.action(g.buttonItem,x),delete A.$8d,delete A.$9d}},handle_mouseup:function(q){this.handle_touchend(q)},handleWindowTouchEnd:function(N){var D=this,B=D.$1d,i=B.$10d;D.$2d&&D.$3d?i.fire({kind:"endResize",target:B,originEvent:N}):D.$4d&&D.$5d&&i.fire({kind:"endMove",target:B,originEvent:N}),this.clear()},handleWindowMouseUp:function(R){this.handleWindowTouchEnd(R)},handle_mousemove:function(S){var h=this.$1d._config;if(h.maximized)return!1;if("w"!==h.resizeMode&&"h"!==h.resizeMode&&"wh"!==h.resizeMode)return!1;var K=this,g=K.getView(),L=g.querySelector(".resize-area"),E=L.getBoundingClientRect(),u={x:E.left,y:E.top,width:E.width,height:E.height};S=y?A(S):S;var I=S.clientX,V=S.clientY,l={x:I,y:V};return m.containsPoint(u,l)?(k(g,"cursor","nwse-resize"),!0):(k(g,"cursor",J),void 0)},handleWindowTouchMove:function(f){f.preventDefault();var D=f;y&&(D=A(f));var N=this,J=N.$8d,I=N.$9d;if(!(I.x==J.x&&I.y==J.y&&m.getDistance(I,{x:D.pageX,y:D.pageY})<=1)){var z=N.$1d,E=z._config,_=z.$21d,Q=E.resizeMode||"wh",M=D.pageX-J.x,$=D.pageY-J.y;if(N.$2d){var K=_.offsetWidth,s=_.offsetHeight,R=K+M,Y=s+$;if(R=Math.max(R,50),Y=Math.max(Y,50),"center"===E.position||E.position==i){var l={},V=_.getBoundingClientRect();l.x=V.left,l.y=V.top,E.position=l}"w"===Q?(z.setSize(R,s),J.x+=R-K):"h"===Q?(z.setSize(K,Y),J.y+=Y-s):"wh"===Q&&(z.setSize(R,Y),J.x+=R-K,J.y+=Y-s),N.$3d?z.$10d.fire({kind:"betweenResize",target:z,originEvent:f}):(N.$3d=!0,z.$10d.fire({kind:"beginResize",target:z,originEvent:f}))}else if(N.$4d){var j=_.getBoundingClientRect(),x=j.width,H=j.height,u=S(),a=g(),P=Z(_.style.left)||0,G=Z(_.style.top)||0,w=P+M,U=G+$,n=z.adjustPosition({x:w,y:U},{width:x,height:H},{width:u,height:a});n&&(w=n.x,U=n.y);var T=w-P,d=U-G;k(_,q,w+F),k(_,h,U+F),J.x+=T,J.y+=d,E.position={x:w,y:U},N.$5d?z.$10d.fire({kind:"betweenMove",target:z,originEvent:f}):(N.$5d=!0,z.$10d.fire({kind:"beginMove",target:z,originEvent:f}))}}},handleWindowMouseMove:function(K){this.handleWindowTouchMove(K)},handleWindowResize:function(){var n=this,A=n,O=A._config,V=A.$21d,p=S(),d=g(),_=O.width,v=O.height,H=O.position||"center";O.maximized?(k(V,x,p+F),k(V,e,d+F),k(V,h,D),k(V,q,D)):(k(V,x,_+F),k(V,e,v+F),"center"===H?(k(V,q,(p-_)/2+F),k(V,h,(d-v)/2+F)):(k(V,q,H.x+F),k(V,h,H.y+F))),A.iv()},handle_mousewheel:function(V){V.stopPropagation()},handle_DOMMouseScroll:function(K){K.stopPropagation()}}),z.widget.Dialog=function(h){var X=this,n=X._view=B.createView(null,X);n[T]="ht-widget-dialog",k(n,o,Q),m.baseZIndex!=i&&k(n,"z-index",m.baseZIndex+"");var L=X.$11d=new v(X);X.bindingHandleWindowResize=L.handleWindowResize.bind(X),X.$10d=new z.Notifier,h&&X.setConfig(h)},G("Dialog",N,{ms_v:1,setTitle:function(H){this._config.title=H,this.getView().querySelector(".dialog-container-title span").innerHTML=H},clearNodes:function(Q){if(Q)for(;Q.firstChild;)Q.removeChild(Q.firstChild)},$31d:function(){var b=this,i=b.$6d=t(),I=b._config,g=b.$12d=b.$13d();i[T]="dialog-container-title",k(i,"cursor","default"),k(i,"white-space","nowrap"),k(i,"overflow","hidden"),k(i,"font",m.dialogTitleLabelFont),k(i,f,I.titleBackground||m.dialogTitleBackground),k(i,"color",I.titleColor||m.dialogTitleLabelColor);var _=u("span"),q=b.$25d();if(I.titleAlign&&k(i,"text-align",I.titleAlign),I.titleIcon){var N=b.$14d=b.$15d();H(i,N)}if(I.title&&I.title.trim&&(I.title=I.title.trim()),_[a]=I.title||"&nbsp;",H(i,_),I.maximizable){var U=b.$16d=b.$17d();H(g,U)}if(I.closable){var o=b.$18d=b.$19d();H(g,o)}return H(i,g),k(i,"display","block"),k(i,"line-height",q+F),i},$13d:function(){var _=t();return k(_,o,Q),k(_,q,D),k(_,P,5+F),k(_,h,D),k(_,I,D),k(_,"text-align",P),k(_,"white-space","nowrap"),_[T]="dialog-title-controls",_},$20d:function(){var q=this.$21d=t(),X=this._config,x=X.borderWidth;return k(q,o,"fixed"),k(q,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),k(q,"padding",D+" "+x+F+" "+x+F+" "+x+F),k(q,"box-sizing","border-box"),k(q,"-moz-box-sizing","border-box"),q[T]="dialog-container",k(q,f,X.titleBackground||m.dialogTitleBackground),q},$22d:function(){var N,y=this,D=y._config,C=y.$7d=t(),M=D.content,L=0,E=D.contentPadding||0;D.buttons!=i&&D.buttons.length>0&&(L=32),w(M)?C[a]=M:M.getView?(N=M.getView(),H(C,N)):(N=M,H(C,N)),k(C,o,Q),k(C,"font",m.dialogContentLabelFont),z.Default.appendToScreen(C);var v=C.offsetWidth+1,K=C.offsetHeight,l=y.$25d();return D.width==i&&(D.width=v+10+2*E),D.height==i&&(D.height=K+l+L+5+2*E),z.Default.removeHTML(C),N&&(k(N,"box-sizing","border-box"),k(N,"-moz-box-sizing","border-box"),k(N,x,"100%"),k(N,e,"100%")),C[T]="dialog-content",k(C,h,l+E+F),k(C,I,L+E+F),k(C,q,E+F),k(C,P,E+F),k(C,"overflow","hidden"),C},getOverlayDiv:function(){return this.$41d},$23d:function(){var J=this.$41d=t();return J[T]="dialog-overlay",k(J,x,"100%"),k(J,e,"100%"),k(J,o,"fixed"),k(J,h,D),k(J,q,D),k(J,f,"rgba(235, 235, 235, 0.7)"),J},_config:i,setSize:function(s,H){var c=this,E=c._config;E&&(E.width=s,E.height=H,c.isShowing()&&(c.bindingHandleWindowResize(),c.iv()))},getConfig:function(){return this._config},$24d:function(){var e=this._config,U=e.titleIconSize||16;return y&&(U*=1.2),U},$25d:function(){var x=this._config,a=x.titleHeight||m.widgetTitleHeight;return a},$26d:function(_){k(_,"cursor","pointer"),k(_,"display","inline-block"),k(_,"margin-right",(y?8:4)+F),k(_,"vertical-align",h)},$27d:function(){var B=this.$30d=t(),S=10;return y&&(S=20),k(B,x,S+F),k(B,e,S+F),k(B,o,Q),k(B,I,D),k(B,P,D),B[T]="resize-area",B},$15d:function(){var x=this,Y=p();Y[T]="dialog-title-control dialog-title-control-icon";var X=x.$25d(),n=x.$24d();return x.$26d(Y),B.setCanvas(Y,n,X),Y},$17d:function(){var s=p();s[T]="dialog-title-control dialog-title-control-maximize";var i=this.$25d(),H=this.$24d();return this.$26d(s),B.setCanvas(s,H,i),s},$19d:function(){var k=p();k[T]="dialog-title-control dialog-title-control-close";var U=this.$25d(),x=this.$24d();return this.$26d(k),B.setCanvas(k,x,U),k},$28d:function(){var I=t();return k(I,f,"white"),k(I,x,"100%"),k(I,e,"100%"),k(I,o,"relative"),I},$29d:function(){var X=this,g=t();k(g,"line-height",32+F),k(g,o,Q),k(g,I,D),k(g,q,D),k(g,"white-space","nowrap"),k(g,"overflow","hidden"),k(g,P,D),k(g,f,m.dialogHeaderBackground),g[T]="dialog-container-buttons";var O=this._config,S=O.buttonsAlign||P,j=0;return k(g,"text-align",S),X.$42d=[],O.buttons.forEach(function(t){var r=new z.widget.Button,E=r.getView();E[T]="dialog-button "+t.className,E.buttonItem=t,X.$42d.push(r),r.setBorderColor(i),r.setBackground(m.dialogButtonBackground),r.setSelectBackground(m.dialogButtonSelectBackground),r.setLabelColor(m.dialogButtonLabelColor),k(E,o,"relative"),k(E,"display","inline-block"),k(E,"text-align",q),k(E,"height",24+F);var c=y?10:5;S===q||S===P?k(E,"margin-"+S,c+F):0===j||k(E,"margin-"+q,c+F),k(E,"vertical-align","middle");var f=m.getTextSize(r.getLabelFont(),t.label).width+10;r.onClicked=function(i){t.action&&t.action.call(X,t,i)},r.setLabel(t.label),r.setDisabled(t.disabled),k(E,x,f+F),H(g,r.getView()),j++}),g},setConfig:function(G){if(G){var N=this,R=N._view;N._config=G,N.action=G.action,N.clearNodes(R),G.borderWidth==i&&(G.borderWidth=5);var K=N.$23d(),V=N.$28d(),Q=N.$31d(),e=N.$22d(),J=N.$20d(),F=N.$30d=N.$27d();if(H(R,K),H(R,J),H(J,V),H(V,Q),H(V,e),G.buttons!=i&&G.buttons.length>0){var U=N.$29d();H(V,U)}H(J,F),G.maximized?(G.maximized=!1,N.bindingHandleWindowResize(),N.maximize(!0)):N.bindingHandleWindowResize(),N.isShowing()&&N.iv()}},hide:function(){var h=this,J=h.$21d,G=h.$41d,F=h._view;F[T]="ht-widget-dialog",n(J).duration(200).scale(.7).set(U,D).end(function(){h.onHidden&&h.onHidden(),z.Default.removeHTML(F),h.$10d.fire({kind:"hide",target:h})}),n(G).duration(200).set(U,D).end(),V(r,"resize",h.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function(m){this.$41d.style.display=m?"block":"none"},isModal:function(){return"none"!==this.$41d.style.display},$32d:function(){var V=this,E=V._config,O=V.$21d;M(O,J),V.iv(),E.maximized?V.$10d.fire({kind:"maximize",target:V}):V.$10d.fire({kind:"restore",target:V})},maximize:function(r){var R=this,i=R.$21d,f=R._config;if(!f.maximized){f.maximized=!0,R.$33d(),R.$16d[T]="dialog-title-control dialog-title-control-minimize";var Y=S(),N=g(),z=f.width,c=f.height,W=Z(i.style.left)||0,C=Z(i.style.top)||0;R.$36d=z,R.$37d=c,R.$34d=W,R.$35d=C;var w=r?0:200;n(i).duration(w).set(q,D).set(h,D).set(x,Y+F).set(e,N+F).end(function(){R.$32d()})}},restore:function(){var O=this,z=O.$34d,m=O.$35d,U=O.$36d,$=O.$37d,X=O._config;if(X.maximized&&(X.maximized=!1,O.$33d(),O.$16d[T]="dialog-title-control dialog-title-control-maximize",O.isShowing()&&z!=i&&m!=i&&U!=i&&$!=i)){var j=O.$21d;n(j).duration(200).set(q,z+F).set(h,m+F).set(x,U+F).set(e,$+F).end(function(){O.$32d()})}delete O.$34d,delete O.$35d,delete O.$36d,delete O.$37d},show:function(){var E=this,m=E._view,a=E._config,G=E.$21d,_=E.$41d;a&&a.zIndex!=i&&k(m,"z-index",a.zIndex+J),z.Default.appendToScreen(m),M(G,"scale(0.7)"),k(G,U,D),E.iv(),E.validate(),E._view[T]+=" dialog-show",Y(function(){n(G).duration(200).scale(1).set(U,"1").end(function(){k(G,x,G.clientWidth+F),k(G,e,G.clientHeight+F),E.onShown&&E.onShown(),E.$10d.fire({kind:"show",target:E})}),n(_).duration(200).set(U,"1").end(),L(r,"resize",E.bindingHandleWindowResize)},30)},setPosition:function(r){var E=this.$21d;E.style.left=r.x+"px",E.style.top=r.y+"px"},addEventListener:function(E,N,s){this.$10d.add(E,N,s)},removeEventListener:function(s,N){this.$10d.remove(s,N)},$38d:function(Z,F,k,e){var o=B.initContext(Z);B.translateAndScale(o,0,0,1),o.clearRect(0,0,k,k);var d=(k-e)/2;m.drawStretchImage(o,m.getImage(F),"fill",0,d,e,e),o.restore()},$33d:function(){var Z=this,w=Z._config,n=Z.$16d,t=w.maximized?m.dialogRestoreIcon:m.dialogMaximizeIcon;if(n&&t){var J=Z.$25d(),K=Z.$24d();Z.$38d(n,m.getImage(t),J,K)}},$39d:function(){var F=this,f=F._config,y=F.$14d,H=f.titleIcon;if(y&&H){var R=F.$25d(),B=F.$24d();F.$38d(y,m.getImage(H),R,B)}},$40d:function(){var t=this,Q=t.$18d,o=m.dialogCloseIcon;if(Q&&o){var d=t.$25d(),j=t.$24d();t.$38d(Q,m.getImage(o),d,j)}},invalidate:function(D){var y=this,B=y.$42d;y._68I||(y._68I=1,m.callLater(y.validate,y,i,D),y.onInvalidated&&y.onInvalidated(),y.fireViewEvent("invalidate"));var x=y._config.content;x.invalidate&&x.invalidate(),B&&B.forEach(function(A){A.iv()})},validateImpl:function(){var g=this;g.$40d(),g.$33d(),g.$39d();var j=g._config.content;j.initView&&(j.setX(0),j.setY(0),j.setWidth(g.$7d.clientWidth),j.setHeight(g.$7d.clientHeight))},adjustPosition:function(P,o,m){var h=o.width,H=o.height,W=m.width,B=m.height,G=P.x,a=P.y,s=this._config,Q=s.minDragSize||20;return"inside"===s.dragMode?(G+h>W&&(G=W-h),a+H>B&&(a=B-H),0>G&&(G=0),0>a&&(a=0)):(null==s.dragMode||"none"===s.dragMode)&&(-h+Q>G&&(G=-h+Q),G>W-Q&&(G=W-Q),a>B-Q&&(a=B-Q),0>a&&(a=0)),{x:G,y:a}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);