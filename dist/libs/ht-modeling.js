!function(N,A,V){"use strict";var S="ht",i=N[S],g=null,e=Math,r=e.PI,f=e.cos,w=e.sin,b=e.abs,z=e.max,m=e.sqrt,R=1e-5,G=i.Default,D=G.def,j=G.startAnim,B=G.createMatrix,$=G.transformVec,x=G.getInternal(),X=x.addMethod,c=x.superCall,y=x.toPointsArray,O=x.createNormals,d=x.toFloatArray,M=x.glMV,W=x.batchShape,l=x.createNodeMatrix,h=x.getFaceInfo,I=x.transformAppend,P=x.drawFaceInfo,t=x.createAnim,K=x.cube(),q=K.is,Y=K.vs,E=K.uv,J=x.ui(),u=i.Node,C=i.Shape,H="h",_="v",o="front",U="back",F="left",v="right",k="top",L="bottom",s="dw.expanded",Q=".expanded",n="dw.angle",a=".angle",Z=function(K,e,C){D(S+"."+K,e,C)},T=function(D,z,t){t?D.push(z.x,z.y):D.push(z.x,z.y,z.z)},p=[1,0,0],Xh=function(F,i,w,a){var Z,H,G,R,L=0,I=[];if(a)for(Z=a.length;Z>L;L+=3)H=a[L],G=a[L+1],R=a[L+2],I.push(new wc([new dd([i[3*H],i[3*H+1],i[3*H+2]],p,w?[w[2*H],w[2*H+1],0]:g),new dd([i[3*G],i[3*G+1],i[3*G+2]],p,w?[w[2*G],w[2*G+1],0]:g),new dd([i[3*R],i[3*R+1],i[3*R+2]],p,w?[w[2*R],w[2*R+1],0]:g)],F));else for(Z=i.length;Z>L;L+=3)H=L,G=L+1,R=L+2,I.push(new wc([new dd([i[3*H],i[3*H+1],i[3*H+2]],p,w?[w[2*H],w[2*H+1],0]:g),new dd([i[3*G],i[3*G+1],i[3*G+2]],p,w?[w[2*G],w[2*G+1],0]:g),new dd([i[3*R],i[3*R+1],i[3*R+2]],p,w?[w[2*R],w[2*R+1],0]:g)],F));return I},Dn=[F,o,v,U,k,L],cd=Dn.concat("csg"),If=[0,6,12,18,24,30],Aj=function(B,Q,W){for(var u=l(B),V=[],O=0;6>O;O++)for(var o=Dn[O],m=If[O],D=W?Q.getFaceUv(B,o):g,f=W?Q.getFaceUvScale(B,o):g,C=W?Q.getFaceUvOffset(B,o):g,b=0;2>b;b++){var S,z,k,F=q[m+3*b],X=q[m+3*b+1],j=q[m+3*b+2];if(W){if(D){var v=8*O;S=[D[2*F-v],D[2*F+1-v],0],z=[D[2*X-v],D[2*X+1-v],0],k=[D[2*j-v],D[2*j+1-v],0]}else S=[E[2*F],E[2*F+1],0],z=[E[2*X],E[2*X+1],0],k=[E[2*j],E[2*j+1],0];f&&(S[0]*=f[0],S[1]*=f[1],z[0]*=f[0],z[1]*=f[1],k[0]*=f[0],k[1]*=f[1]),C&&(S[0]+=C[0],S[1]+=C[1],z[0]+=C[0],z[1]+=C[1],k[0]+=C[0],k[1]+=C[1])}V.push(new wc([new dd($([Y[3*F],Y[3*F+1],Y[3*F+2]],u),p,S),new dd($([Y[3*X],Y[3*X+1],Y[3*X+2]],u),p,z),new dd($([Y[3*j],Y[3*j+1],Y[3*j+2]],u),p,k)],B))}return Hl.$15n(V)},Yl=function(r,p){var v,e=r.data.getAttaches();if(e&&e.each(function(j){j instanceof Pb&&j.s("attach.operation")&&(v||(v=[]),v.push(j))}),v){var $;Dn.forEach(function(s){var v=Xh(s,r[s].vs,r[s].tuv);$=$?$.concat(v):v}),$=Hl.$15n($),v.forEach(function(G){var y=G.s("attach.operation");$[y]&&($=$[y](Aj(G,r.gv,r.csg.tuv)))}),Dn.forEach(function(p){p=r[p],p.vs=[],p.tuv&&(p.tuv=[])}),$.$19n().forEach(function(D){var o=D.$10n;if(o instanceof Pb){if(o.s("attach.cull"))return;o="csg"}for(var A=r[o],j=A.vs,G=A.tuv,W=D.$9n,E=2;E<W.length;E++)T(j,W[0].$24n),T(j,W[E-1].$24n),T(j,W[E].$24n),G&&(T(G,W[0].uv,!0),T(G,W[E-1].uv,!0),T(G,W[E].uv,!0))})}cd.forEach(function(l){var u=r[l];u.visible&&u.vs.length?(u.ns=O(u.vs),d(u,"vs"),d(u,"tuv")):delete r[l]}),p&&(W(r,g,p),r.clear())};X(G,{createFrameModel:function(q,R,h,U){q=q==g?.07:q,R=R==g?q:R,h=h==g?q:h,U=U?U:{};var X=U.top,P=U.bottom,$=U.left,e=U.right,F=U.front,D=U.back,O=[],z=[];return F===!0?(O.push(-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5),z.push(0,0,0,1,1,1,1,1,1,0,0,0)):F===!1||(O.push(-.5,.5,.5,-.5,-.5,.5,-.5+q,-.5,.5,-.5+q,-.5,.5,-.5+q,.5,.5,-.5,.5,.5,.5-q,.5,.5,.5-q,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5-q,.5,.5,-.5+q,.5,.5,-.5+q,.5-R,.5,.5-q,.5-R,.5,.5-q,.5-R,.5,.5-q,.5,.5,-.5+q,.5,.5,-.5+q,-.5+R,.5,-.5+q,-.5,.5,.5-q,-.5,.5,.5-q,-.5,.5,.5-q,-.5+R,.5,-.5+q,-.5+R,.5),z.push(0,0,0,1,q,1,q,1,q,0,0,0,1-q,0,1-q,1,1,1,1,1,1,0,1-q,0,q,0,q,R,1-q,R,1-q,R,1-q,0,q,0,q,1-R,q,1,1-q,1,1-q,1,1-q,1-R,q,1-R)),D===!0?(O.push(-.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5),z.push(1,0,0,1,1,1,0,1,1,0,0,0)):D===!1||(O.push(-.5,.5,-.5,-.5+q,-.5,-.5,-.5,-.5,-.5,-.5+q,-.5,-.5,-.5,.5,-.5,-.5+q,.5,-.5,.5-q,.5,-.5,.5,-.5,-.5,.5-q,-.5,-.5,.5,-.5,-.5,.5-q,.5,-.5,.5,.5,-.5,-.5+q,.5,-.5,.5-q,.5-R,-.5,-.5+q,.5-R,-.5,.5-q,.5-R,-.5,-.5+q,.5,-.5,.5-q,.5,-.5,-.5+q,-.5+R,-.5,.5-q,-.5,-.5,-.5+q,-.5,-.5,.5-q,-.5,-.5,-.5+q,-.5+R,-.5,.5-q,-.5+R,-.5),z.push(1,0,1-q,1,1,1,1-q,1,1,0,1-q,0,q,0,0,1,q,1,0,1,q,0,0,0,1-q,0,q,R,1-q,R,q,R,1-q,0,q,0,1-q,1-R,q,1,1-q,1,q,1,1-q,1-R,q,1-R)),$===!0?(O.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5),z.push(0,0,0,1,1,1,1,1,1,0,0,0)):$===!1||(O.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5+h,-.5,-.5,-.5+h,-.5,.5,-.5+h,-.5,.5,-.5,-.5,.5,.5-h,-.5,-.5,.5-h,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5-h,-.5,.5,-.5+h,-.5,.5-R,-.5+h,-.5,.5-R,.5-h,-.5,.5-R,.5-h,-.5,.5,.5-h,-.5,.5,-.5+h,-.5,-.5+R,-.5+h,-.5,-.5,-.5+h,-.5,-.5,.5-h,-.5,-.5,.5-h,-.5,-.5+R,.5-h,-.5,-.5+R,-.5+h),z.push(0,0,0,1,h,1,h,1,h,0,0,0,1-h,0,1-h,1,1,1,1,1,1,0,1-h,0,h,0,h,R,1-h,R,1-h,R,1-h,0,h,0,h,1-R,h,1,1-h,1,1-h,1,1-h,1-R,h,1-R)),e===!0?(O.push(.5,.5,-.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5),z.push(1,0,0,1,1,1,0,1,1,0,0,0)):e===!1||(O.push(.5,.5,-.5,.5,-.5,-.5+h,.5,-.5,-.5,.5,-.5,-.5+h,.5,.5,-.5,.5,.5,-.5+h,.5,.5,.5-h,.5,-.5,.5,.5,-.5,.5-h,.5,-.5,.5,.5,.5,.5-h,.5,.5,.5,.5,.5,-.5+h,.5,.5-R,.5-h,.5,.5-R,-.5+h,.5,.5-R,.5-h,.5,.5,-.5+h,.5,.5,.5-h,.5,-.5+R,-.5+h,.5,-.5,.5-h,.5,-.5,-.5+h,.5,-.5,.5-h,.5,-.5+R,-.5+h,.5,-.5+R,.5-h),z.push(1,0,1-h,1,1,1,1-h,1,1,0,1-h,0,h,0,0,1,h,1,0,1,h,0,0,0,1-h,0,h,R,1-h,R,h,R,1-h,0,h,0,1-h,1-R,h,1,1-h,1,h,1,1-h,1-R,h,1-R)),X===!0?(O.push(.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5),z.push(1,1,1,0,0,0,0,0,0,1,1,1)):X===!1||(O.push(.5,.5,.5,.5,.5,-.5,.5-q,.5,-.5,.5-q,.5,-.5,.5-q,.5,.5,.5,.5,.5,-.5+q,.5,.5,-.5+q,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5+q,.5,.5,.5-q,.5,.5,.5-q,.5,.5-h,-.5+q,.5,.5-h,-.5+q,.5,.5-h,-.5+q,.5,.5,.5-q,.5,.5,.5-q,.5,-.5+h,.5-q,.5,-.5,-.5+q,.5,-.5,-.5+q,.5,-.5,-.5+q,.5,-.5+h,.5-q,.5,-.5+h),z.push(1,1,1,0,1-q,0,1-q,0,1-q,1,1,1,q,1,q,0,0,0,0,0,0,1,q,1,1-q,1,1-q,1-h,q,1-h,q,1-h,q,1,1-q,1,1-q,h,1-q,0,q,0,q,0,q,h,1-q,h)),P===!0?(O.push(.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5),z.push(1,0,0,1,1,1,0,1,1,0,0,0)):P===!1||(O.push(.5,-.5,.5,.5-q,-.5,-.5,.5,-.5,-.5,.5-q,-.5,-.5,.5,-.5,.5,.5-q,-.5,.5,-.5+q,-.5,.5,-.5,-.5,-.5,-.5+q,-.5,-.5,-.5,-.5,-.5,-.5+q,-.5,.5,-.5,-.5,.5,.5-q,-.5,.5,-.5+q,-.5,.5-h,.5-q,-.5,.5-h,-.5+q,-.5,.5-h,.5-q,-.5,.5,-.5+q,-.5,.5,.5-q,-.5,-.5+h,-.5+q,-.5,-.5,.5-q,-.5,-.5,-.5+q,-.5,-.5,.5-q,-.5,-.5+h,-.5+q,-.5,-.5+h),z.push(1,0,1-q,1,1,1,1-q,1,1,0,1-q,0,q,0,0,1,q,1,0,1,q,0,0,0,1-q,0,q,h,1-q,h,q,h,1-q,0,q,0,1-q,1-h,q,1,1-q,1,q,1,1-q,1-h,q,1-h)),{vs:O,uv:z}}}),X(i.Style,{"dw.flip":!1,"dw.s3":[.999,.999,.5],"dw.t3":V,"dw.expanded":!1,"dw.toggleable":!0,"dw.axis":"left","dw.start":0,"dw.end":r/2,"dw.angle":0,"attach.cull":!1,"attach.operation":"subtract"},!0),Dn.forEach(function(C){var Y={};Y[C+Q]=!1,Y[C+".toggleable"]=!1,Y[C+".axis"]=F,Y[C+".start"]=0,Y[C+".end"]=r/2,Y[C+a]=0,X(i.Style,Y,!0)});var Hl=function(){this.$4n=[]};Hl.$15n=function(T){var O=new Hl;return O.$4n=T,O},Hl.prototype={clone:function(){var d=new Hl;return d.$4n=this.$4n.map(function(_){return _.clone()}),d},$19n:function(){return this.$4n},union:function(e){var a=new Ih(this.clone().$4n),P=new Ih(e.clone().$4n);return a.$3n(P),P.$3n(a),P.$6n(),P.$3n(a),P.$6n(),a.$7n(P.$2n()),Hl.$15n(a.$2n())},subtract:function(p){var C=new Ih(this.clone().$4n),e=new Ih(p.clone().$4n);return C.$6n(),C.$3n(e),e.$3n(C),e.$6n(),e.$3n(C),e.$6n(),C.$7n(e.$2n()),C.$6n(),Hl.$15n(C.$2n())},intersect:function(n){var m=new Ih(this.clone().$4n),C=new Ih(n.clone().$4n);return m.$6n(),C.$3n(m),C.$6n(),m.$3n(C),C.$3n(m),m.$7n(C.$2n()),m.$6n(),Hl.$15n(m.$2n())},inverse:function(){var v=this.clone();return v.$4n.map(function(c){c.flip()}),v}},Hl.cube=function(Z){Z=Z||{};var z=new Nr(Z.center||[0,0,0]),B=Z.radius?Z.radius.length?Z.radius:[Z.radius,Z.radius,Z.radius]:[1,1,1];return Hl.$15n([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(function(d){return new wc(d[0].map(function(q){var f=new Nr(z.x+B[0]*(2*!!(1&q)-1),z.y+B[1]*(2*!!(2&q)-1),z.z+B[2]*(2*!!(4&q)-1));return new dd(f,new Nr(d[1]))}))}))},Hl.sphere=function(v){function s(q,i){q*=2*r,i*=r;var d=new Nr(f(q)*w(i),f(i),w(q)*w(i));x.push(new dd(Q.$20n(d.$21n(j)),d))}v=v||{};for(var x,Q=new Nr(v.center||[0,0,0]),j=v.radius||1,i=v.slices||16,q=v.stacks||8,E=[],l=0;i>l;l++)for(var I=0;q>I;I++)x=[],s(l/i,I/q),I>0&&s((l+1)/i,I/q),q-1>I&&s((l+1)/i,(I+1)/q),s(l/i,(I+1)/q),E.push(new wc(x));return Hl.$15n(E)},Hl.cylinder=function(d){function J(y,C,$){var t=2*C*r,K=z.$21n(f(t)).$20n(B.$21n(w(t))),F=X.$20n(H.$21n(y)).$20n(K.$21n(G)),Y=K.$21n(1-b($)).$20n(V.$21n($));return new dd(F,Y)}d=d||{};for(var X=new Nr(d.start||[0,-1,0]),C=new Nr(d.end||[0,1,0]),H=C.$13n(X),G=d.radius||1,U=d.slices||16,V=H.$14n(),A=b(V.y)>.5,z=new Nr(A,!A,0).$12n(V).$14n(),B=z.$12n(V).$14n(),T=new dd(X,V.$11n()),R=new dd(C,V.$14n()),j=[],D=0;U>D;D++){var O=D/U,W=(D+1)/U;j.push(new wc([T,J(0,O,-1),J(0,W,-1)])),j.push(new wc([J(0,W,0),J(0,O,0),J(1,O,0),J(1,W,0)])),j.push(new wc([R,J(1,W,1),J(1,O,1)]))}return Hl.$15n(j)};var Nr=function(J,m,V){var q=this;3==arguments.length?(q.x=J,q.y=m,q.z=V):"x"in J?(q.x=J.x,q.y=J.y,q.z=J.z):(q.x=J[0],q.y=J[1],q.z=J[2])};Nr.prototype={clone:function(){return new Nr(this.x,this.y,this.z)},$11n:function(){return new Nr(-this.x,-this.y,-this.z)},$20n:function(e){return new Nr(this.x+e.x,this.y+e.y,this.z+e.z)},$13n:function(M){return new Nr(this.x-M.x,this.y-M.y,this.z-M.z)},$21n:function(U){return new Nr(this.x*U,this.y*U,this.z*U)},$16n:function(N){return new Nr(this.x/N,this.y/N,this.z/N)},$23n:function(I){return this.x*I.x+this.y*I.y+this.z*I.z},lerp:function(Z,r){return this.$20n(Z.$13n(this).$21n(r))},length:function(){return m(this.$23n(this))},$14n:function(){return this.$16n(this.length())},$12n:function(q){var B=this;return new Nr(B.y*q.z-B.z*q.y,B.z*q.x-B.x*q.z,B.x*q.y-B.y*q.x)}};var dd=function(q,S,D){var y=this;y.$24n=new Nr(q),y.$22n=new Nr(S),y.uv=D?new Nr(D):null};dd.prototype={clone:function(){var v=this;return new dd(v.$24n.clone(),v.$22n.clone(),v.uv?v.uv.clone():null)},flip:function(){this.$22n=this.$22n.$11n()},$18n:function(Y,i){var e=this;return new dd(e.$24n.lerp(Y.$24n,i),e.$22n.lerp(Y.$22n,i),e.uv?e.uv.lerp(Y.uv,i):null)}};var ys=function(Q,j){this.$22n=Q,this.w=j};ys.$17n=function(C,i,X){var v=i.$13n(C).$12n(X.$13n(C)).$14n();return new ys(v,v.$23n(C))},ys.prototype={clone:function(){return new ys(this.$22n.clone(),this.w)},flip:function(){var a=this;a.$22n=a.$22n.$11n(),a.w=-a.w},$5n:function($,Q,P,a,j){for(var u=this,g=0,I=1,x=2,e=3,z=0,s=[],b=0;b<$.$9n.length;b++){var J=u.$22n.$23n($.$9n[b].$24n)-u.w,h=-R>J?x:J>R?I:g;z|=h,s.push(h)}switch(z){case g:(u.$22n.$23n($.$8n.$22n)>0?Q:P).push($);break;case I:a.push($);break;case x:j.push($);break;case e:for(var O=[],d=[],b=0;b<$.$9n.length;b++){var D=(b+1)%$.$9n.length,i=s[b],m=s[D],V=$.$9n[b],U=$.$9n[D];if(i!=x&&O.push(V),i!=I&&d.push(i!=x?V.clone():V),(i|m)==e){var J=(u.w-this.$22n.$23n(V.$24n))/u.$22n.$23n(U.$24n.$13n(V.$24n)),T=V.$18n(U,J);O.push(T),d.push(T.clone())}}O.length>=3&&a.push(new wc(O,$.$10n)),d.length>=3&&j.push(new wc(d,$.$10n))}}};var wc=function(x,o){var p=this;p.$9n=x,p.$10n=o,p.$8n=ys.$17n(x[0].$24n,x[1].$24n,x[2].$24n)};wc.prototype={clone:function(){var g=this.$9n.map(function(f){return f.clone()});return new wc(g,this.$10n)},flip:function(){this.$9n.reverse().map(function(S){S.flip()}),this.$8n.flip()}};var Ih=function(n){var y=this;y.$8n=null,y.front=null,y.back=null,y.$4n=[],n&&y.$7n(n)};Ih.prototype={clone:function(){var Q=this,U=new Ih;return U.$8n=Q.$8n&&Q.$8n.clone(),U.front=Q.front&&Q.front.clone(),U.back=Q.back&&Q.back.clone(),U.$4n=Q.$4n.map(function(v){return v.clone()}),U},$6n:function(){for(var y=this,d=0;d<y.$4n.length;d++)y.$4n[d].flip();y.$8n.flip(),y.front&&y.front.$6n(),y.back&&y.back.$6n();var l=y.front;y.front=y.back,y.back=l},$1n:function(H){var I=this;if(!I.$8n)return H.slice();for(var u=[],T=[],C=0;C<H.length;C++)I.$8n.$5n(H[C],u,T,u,T);return I.front&&(u=I.front.$1n(u)),T=I.back?I.back.$1n(T):[],u.concat(T)},$3n:function(B){var d=this;d.$4n=B.$1n(d.$4n),d.front&&d.front.$3n(B),d.back&&d.back.$3n(B)},$2n:function(){var z=this,U=z.$4n.slice();return z.front&&(U=U.concat(z.front.$2n())),z.back&&(U=U.concat(z.back.$2n())),U},$7n:function(v){var B=this;if(v.length){B.$8n||(B.$8n=v[0].$8n.clone());for(var K=[],G=[],z=0;z<v.length;z++)this.$8n.$5n(v[z],B.$4n,B.$4n,K,G);K.length&&(B.front||(B.front=new Ih),this.front.$7n(K)),G.length&&(B.back||(B.back=new Ih),B.back.$7n(G))}}};var Oh="symbol",Gm=i.Symbol=function(a,v,q){var N=this;c(Gm,N),N.s3(20,20,20),N.s({"all.visible":!1,shape:"rect"}),N.setIcon(a,v,q)};Z("Symbol",u,{setIcon:function(K,b,B){var D,a=this;return Gm.superClass.setIcon.call(a,K),K?(D={for3d:!0,face:"center",position:44,names:[K]},B&&(D.transaprent=!0),b&&(D.autorotate=b),a.addStyleIcon(Oh,D)):a.removeStyleIcon(Oh),a.setWidth(x.getImageWidth(G.getImage(K),a)||20),D}});var Pb=i.CSGNode=function(){c(Pb,this),this.s({shape:"rect","attach.thickness":1.001})},Tm={position:1,width:1,height:1,rotation:1,rotationX:1,rotationZ:1,rotationMode:1,tall:1,elevation:1,"s:attach.cull":1,"s:attach.operation":1};Z("CSGNode",u,{_22Q:function(){return zk},onPropertyChanged:function(S){var E=this,r=E.getHost();Pb.superClass.onPropertyChanged.call(E,S),Tm[S.property]&&(r instanceof Wq||r instanceof Pb)&&r.fp("csgNodeChange",!0,!1)}});var zk=function(S,B){c(zk,this,[S,B])};D(zk,J.Node3dUI,{_80o:function(a,A,X){var k=this;k._shape3d?zk.superClass._80o.call(k,a,A,X):(M(k.gv),cd.forEach(function(V){P(k,a,A,k[V],X)}))},validate:function(F,$){var d=this,y=d.gv,h=d.data;if(h.s("shape3d"))return zk.superClass.validate.call(d,F,$),d._shape3d=!0,void 0;d._shape3d=!1;var R=l(h,y.getMat(h)),w=F&&F.uv;d.vf2("csg",w);for(var K=0;6>K;K++)for(var P=Dn[K],_=If[K],J=d.vf2(P,w,$),a=J.mat||R,r=J.vs,B=J.uv,v=J.tuv,M=0;2>M;M++){var c=q[_+3*M],f=q[_+3*M+1],U=q[_+3*M+2];if(I(r,a,[Y[3*c],Y[3*c+1],Y[3*c+2]]),I(r,a,[Y[3*f],Y[3*f+1],Y[3*f+2]]),I(r,a,[Y[3*U],Y[3*U+1],Y[3*U+2]]),v)if(B){var N=8*K;v.push(B[2*c-N],B[2*c+1-N],B[2*f-N],B[2*f+1-N],B[2*U-N],B[2*U+1-N])}else v.push(E[2*c],E[2*c+1],E[2*f],E[2*f+1],E[2*U],E[2*U+1])}Yl(d,F,$)},vf2:function(F,V,Y){var S,o=this,K=o.gv.getFaceVisible(o.data,F);return S=h(o,F,Y),S.vs=[],S.tuv=K&&(S.texture||V)?[]:g,S.visible=K,S}});var Wq=i.CSGShape=function(){var p=this;c(Wq,p),p.s({"shape.background":g,"shape.border.width":8}),p.setTall(240),p.setElevation(120),p.setThickness(14)};Z("CSGShape",C,{IRotatable:!1,_22Q:function(){return Ai},setRotationX:function(){},setRotation:function(){},setRotationZ:function(){},setSegments:function(){}});var Ai=function(Z,d){c(Ai,this,[Z,d])};D(Ai,J.Shape3dUI,{_80o:function(z,p,H){var i=this;i.undrawable||(M(i.gv),cd.forEach(function(Z){P(i,z,p,i[Z],H)}))},validate:function(k,O){var d=this,Q=d.data,I=Q.getPoints();if(d.undrawable=I.size()<2)return d.clear(),void 0;var u=Q.isClosePath(),W=z(Q._thickness/2,R),U=y(I,g,g,u);cd.forEach(function(n){d.vf(n,k&&k.uv,!0,O)}),u&&(d.left.visible=!1,d.right.visible=!1),d._12O(U,W),d._20Q(U),Yl(d,k,O)}});var qh=i.DoorWindow=function(){var M=this;c(qh,M),M.setElevation(100),M.s3(100,200,14)};Z("DoorWindow",Pb,{IDoorWindow:!0,toggle:function(F){this.setExpanded(!this.s(s),F)},isExpanded:function(){return this.s(s)},setExpanded:function(E,p){var q=this,g=q.$25n,R=q.getDataModel(),W=q.s(s);if(g&&(g.stop(!0),delete q.$25n),W!==E){R&&R.beginTransaction();var y=E?q.s("dw.end"):q.s("dw.start");q.s(s,E),p=t(p),p?(W=q.s(n),p.action=function(x){q.s(n,W+(y-W)*x)},p.finishFunc=function(){R&&R.endTransaction()},q.$25n=j(p)):(q.s(n,y),R&&R.endTransaction())}},getMat:function(){var V=this,i=V.s("dw.s3"),w=V.s("dw.t3"),f=V.s("dw.flip"),m=V.s(n);if(i||m||w||f){var s=[];if(f&&s.push({r3:[0,r,0]}),i&&s.push({s3:i}),m){i=V.s3();var j=V.s("dw.axis"),c=i[0]/2,$=i[1]/2;i[2]/2,j===F?s.push({t3:[c,0,0]},{r3:[0,-m,0]},{t3:[-c,0,0]}):j===v?s.push({t3:[-c,0,0]},{r3:[0,m,0]},{t3:[c,0,0]}):j===k?s.push({t3:[0,-$,0]},{r3:[-m,0,0]},{t3:[0,$,0]}):j===L?s.push({t3:[0,$,0]},{r3:[m,0,0]},{t3:[0,-$,0]}):j===_?s.push({r3:[0,m,0]}):j===H&&s.push({r3:[m,0,0]})}return w&&s.push({t3:w}),B(s)}return g}});var Dp=i.CSGBox=function(){var K=this;c(Dp,K),K.setElevation(100),K.s3(100,200,100)};Z("CSGBox",Pb,{ICSGBox:!0,toggleFace:function(K,x){this.setFaceExpanded(K,!this.s(K+Q),x)},isFaceExpanded:function(R){return this.s(R+Q)},setFaceExpanded:function(L,n,G){var r=this,l=r.$25n,D=r.s(L+Q);if(l&&(l.stop(!0),delete r.$25n),D!==n){var H=n?r.s(L+".end"):r.s(L+".start");r.s(L+Q,n),G=t(G),G?(D=r.s(L+a),G.action=function(k){r.s(L+a,D+(H-D)*k)},r.$25n=j(G)):r.s(L+a,H)}},getFaceMat:function(r){var x=this,i=x.s(r+a);if(!i)return g;var C=x.s(r+".axis"),e=x.s3(),R=e[0]/2,j=e[1]/2,D=e[2]/2,G=[];return r===o&&(C===F?G.push({t3:[R,0,-D]},{r3:[0,-i,0]},{t3:[-R,0,D]}):C===v?G.push({t3:[-R,0,-D]},{r3:[0,i,0]},{t3:[R,0,D]}):C===k?G.push({t3:[0,-j,-D]},{r3:[-i,0,0]},{t3:[0,j,D]}):C===L?G.push({t3:[0,j,-D]},{r3:[i,0,0]},{t3:[0,-j,D]}):C===_?G.push({t3:[0,0,-D]},{r3:[0,i,0]},{t3:[0,0,D]}):C===H&&G.push({t3:[0,0,-D]},{r3:[i,0,0]},{t3:[0,0,D]})),r===U&&(C===F?G.push({t3:[-R,0,D]},{r3:[0,-i,0]},{t3:[R,0,-D]}):C===v?G.push({t3:[R,0,D]},{r3:[0,i,0]},{t3:[-R,0,-D]}):C===k?G.push({t3:[0,-j,D]},{r3:[i,0,0]},{t3:[0,j,-D]}):C===L?G.push({t3:[0,j,D]},{r3:[-i,0,0]},{t3:[0,-j,-D]}):C===_?G.push({t3:[0,0,D]},{r3:[0,i,0]},{t3:[0,0,-D]}):C===H&&G.push({t3:[0,0,D]},{r3:[i,0,0]},{t3:[0,0,-D]})),r===F&&(C===F?G.push({t3:[R,0,D]},{r3:[0,-i,0]},{t3:[-R,0,-D]}):C===v?G.push({t3:[R,0,-D]},{r3:[0,i,0]},{t3:[-R,0,D]}):C===k?G.push({t3:[R,-j,0]},{r3:[0,0,-i]},{t3:[-R,j,0]}):C===L?G.push({t3:[R,j,0]},{r3:[0,0,i]},{t3:[-R,-j,0]}):C===_?G.push({t3:[R,0,0]},{r3:[0,i,0]},{t3:[-R,0,0]}):C===H&&G.push({t3:[R,0,0]},{r3:[0,0,i]},{t3:[-R,0,0]})),r===v&&(C===F?G.push({t3:[-R,0,-D]},{r3:[0,-i,0]},{t3:[R,0,D]}):C===v?G.push({t3:[-R,0,D]},{r3:[0,i,0]},{t3:[R,0,-D]}):C===k?G.push({t3:[-R,-j,0]},{r3:[0,0,i]},{t3:[R,j,0]}):C===L?G.push({t3:[-R,j,0]},{r3:[0,0,-i]},{t3:[R,-j,0]}):C===_?G.push({t3:[-R,0,0]},{r3:[0,i,0]},{t3:[R,0,0]}):C===H&&G.push({t3:[-R,0,0]},{r3:[0,0,i]},{t3:[R,0,0]})),r===k&&(C===F?G.push({t3:[R,-j,0]},{r3:[0,0,i]},{t3:[-R,j,0]}):C===v?G.push({t3:[-R,-j,0]},{r3:[0,0,-i]},{t3:[R,j,0]}):C===k?G.push({t3:[0,-j,D]},{r3:[-i,0,0]},{t3:[0,j,-D]}):C===L?G.push({t3:[0,-j,-D]},{r3:[i,0,0]},{t3:[0,j,D]}):C===_?G.push({t3:[0,-j,0]},{r3:[0,0,i]},{t3:[0,j,0]}):C===H&&G.push({t3:[0,-j,0]},{r3:[i,0,0]},{t3:[0,j,0]})),r===L&&(C===F?G.push({t3:[R,j,0]},{r3:[0,0,-i]},{t3:[-R,-j,0]}):C===v?G.push({t3:[-R,j,0]},{r3:[0,0,i]},{t3:[R,-j,0]}):C===k?G.push({t3:[0,j,-D]},{r3:[-i,0,0]},{t3:[0,-j,D]}):C===L?G.push({t3:[0,j,D]},{r3:[i,0,0]},{t3:[0,-j,-D]}):C===_?G.push({t3:[0,j,0]},{r3:[0,0,i]},{t3:[0,-j,0]}):C===H&&G.push({t3:[0,j,0]},{r3:[i,0,0]},{t3:[0,-j,0]})),B(G)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);